/*!
 * IP ROAST DESIGN SYSTEM - MAIN ENTRY POINT
 * Главная точка входа для всех стилей дизайн-системы
 * Версия: Enterprise 4.0
 * 
 * Архитектура:
 * 1. Tokens - дизайн-токены (цвета, типографика, отступы, эффекты)
 * 2. Themes - темы оформления (светлая, темная)  
 * 3. Base - базовые стили (reset, globals, utilities)
 * 4. Components - компонентные стили (кнопки, карточки, формы, навигация)
 */

/* ===============================
 * DESIGN TOKENS
 * Фундаментальные токены дизайн-системы
 * =============================== */

@import './tokens/colors.css';
@import './tokens/typography.css';
@import './tokens/spacing.css';
@import './tokens/effects.css';

/* ===============================
 * THEMES
 * Темы оформления
 * =============================== */

@import './themes/light.css';
@import './themes/dark.css';

/* ===============================
 * BASE STYLES
 * Базовые стили и утилиты
 * =============================== */

@import './base/reset.css';
@import './base/globals.css';
@import './base/utilities.css';

/* ===============================
 * COMPONENT STYLES
 * Стили компонентов
 * =============================== */

@import './components/buttons.css';
@import './components/cards.css';
@import './components/forms.css';
@import './components/navigation.css';

/* ===============================
 * SYSTEM INTEGRATION
 * Интеграция с существующими системами
 * =============================== */

/* Поддержка старых браузеров */
@supports not (color-scheme: light dark) {
    :root {
        color-scheme: normal;
    }
}

/* Поддержка высокого DPI */
@media (-webkit-min-device-pixel-ratio: 2),
(min-resolution: 192dpi) {
    :root {
        --font-smoothing: antialiased;
    }
}

/* Оптимизация для печати */
@page {
    margin: 2cm;
    size: A4;
}

/* ===============================
 * PERFORMANCE OPTIMIZATIONS
 * Оптимизации производительности
 * =============================== */

/* Критические стили для первого рендера */
@layer base, components, utilities;

/* Предзагрузка критических ресурсов */
@font-face {
    font-family: 'FKGroteskNeue';
    font-display: swap;
}

/* ===============================
 * DEBUGGING (только для разработки)
 * Отладочные стили
 * =============================== */

@media (max-width: 0) {

    /* Этот блок никогда не выполнится, но поможет в отладке */
    .debug-grid {
        background: repeating-linear-gradient(0deg,
                transparent,
                transparent 7px,
                rgba(255, 0, 0, 0.1) 7px,
                rgba(255, 0, 0, 0.1) 8px);
    }
}

/* ===============================
 * CUSTOM PROPERTIES VALIDATION
 * Проверка кастомных свойств
 * =============================== */

@supports (color: var(--undefined)) {
    :root {
        /* Fallback значения для критических токенов */
        --color-primary: #218a8d;
        --color-text: #134252;
        --color-background: #fcfcf9;
        --space-16: 16px;
        --font-family-base: system-ui, sans-serif;
    }
}