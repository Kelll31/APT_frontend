<!-- pages/settings.html -->
<!-- Advanced Settings module for IP Roast Enterprise 4.0 -->
<!-- Enhanced with full functionality from settings folder -->

<!-- All Settings Styles -->
<link rel="stylesheet" href="../settings/settings.css">
<link rel="stylesheet" href="../settings/system-config.css">
<link rel="stylesheet" href="../settings/theme-manager.css">
<link rel="stylesheet" href="../settings/user-preferences.css">

<!-- Settings Container -->
<div class="settings" id="settings-container">

    <!-- Settings Header -->
    <div class="settings__header">
        <div class="settings-header-content">
            <div class="settings-title-section">
                <h1 class="settings-main-title">
                    <i class="fas fa-cog"></i>
                    –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã
                </h1>
                <p class="settings-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π IP Roast Enterprise 4.0</p>
            </div>

            <div class="settings-header-actions">
                <button class="settings-action-btn" id="import-settings" title="–ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫">
                    <i class="fas fa-upload"></i>
                    <span>–ò–º–ø–æ—Ä—Ç</span>
                </button>
                <button class="settings-action-btn" id="export-settings" title="–≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫">
                    <i class="fas fa-download"></i>
                    <span>–≠–∫—Å–ø–æ—Ä—Ç</span>
                </button>
                <button class="settings-action-btn" id="reset-settings" title="–°–±—Ä–æ—Å –∫ –∑–∞–≤–æ–¥—Å–∫–∏–º">
                    <i class="fas fa-undo-alt"></i>
                    <span>–°–±—Ä–æ—Å</span>
                </button>
            </div>
        </div>

        <!-- Settings Navigation Tabs -->
        <div class="settings__tabs">
            <button class="settings__tab settings__tab--active" data-tab="system">
                <i class="fas fa-server"></i>
                –°–∏—Å—Ç–µ–º–∞
            </button>
            <button class="settings__tab" data-tab="user">
                <i class="fas fa-user"></i>
                –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
            </button>
            <button class="settings__tab" data-tab="themes">
                <i class="fas fa-palette"></i>
                –¢–µ–º—ã
            </button>
            <button class="settings__tab" data-tab="security">
                <i class="fas fa-shield-alt"></i>
                –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
            </button>
            <button class="settings__tab" data-tab="integrations">
                <i class="fas fa-puzzle-piece"></i>
                –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
            </button>
            <button class="settings__tab" data-tab="advanced">
                <i class="fas fa-tools"></i>
                –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
            </button>
        </div>
    </div>

    <!-- Settings Content -->
    <div class="settings__content">

        <!-- System Configuration Tab -->
        <div class="settings-tab-content active" id="system-tab">
            <div class="system-config" id="system-config-container">
                <div class="system-config__header">
                    <i class="fas fa-server"></i>
                    –°–∏—Å—Ç–µ–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
                </div>
                <div class="system-config__body">
                    <!-- Network Settings -->
                    <div class="settings__section">
                        <h3 class="settings__section-title">–°–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>

                        <div class="settings__row">
                            <label class="settings__label" for="api-host">API —Å–µ—Ä–≤–µ—Ä:</label>
                            <input type="text" class="settings__input" id="api-host" value="localhost:8080">
                        </div>

                        <div class="settings__row">
                            <label class="settings__label" for="websocket-url">WebSocket URL:</label>
                            <input type="text" class="settings__input" id="websocket-url"
                                value="ws://localhost:8080/ws">
                        </div>

                        <div class="settings__row">
                            <label class="settings__label" for="timeout">–¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–µ–∫):</label>
                            <input type="number" class="settings__input" id="timeout" value="30" min="5" max="300">
                        </div>

                        <div class="settings__row">
                            <label class="settings__label" for="max-retries">–ú–∞–∫—Å–∏–º—É–º –ø–æ–≤—Ç–æ—Ä–æ–≤:</label>
                            <input type="number" class="settings__input" id="max-retries" value="3" min="1" max="10">
                        </div>
                    </div>

                    <!-- Performance Settings -->
                    <div class="settings__section">
                        <h3 class="settings__section-title">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h3>

                        <div class="settings__row">
                            <label class="settings__label" for="max-concurrent">–ú–∞–∫—Å–∏–º—É–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Å–∫–∞–Ω–æ–≤:</label>
                            <input type="number" class="settings__input" id="max-concurrent" value="5" min="1" max="20">
                        </div>

                        <div class="settings__row">
                            <label class="settings__label" for="cache-ttl">TTL –∫–µ—à–∞ (–º–∏–Ω):</label>
                            <input type="number" class="settings__input" id="cache-ttl" value="15" min="1" max="1440">
                        </div>

                        <div class="settings__row">
                            <label class="settings__label" for="auto-refresh">–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:</label>
                            <div class="settings__toggle">
                                <input type="checkbox" class="settings__toggle-input" id="auto-refresh" checked>
                                <span class="settings__toggle-slider"></span>
                            </div>
                        </div>

                        <div class="settings__row">
                            <label class="settings__label" for="refresh-interval">–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Å–µ–∫):</label>
                            <select class="settings__select" id="refresh-interval">
                                <option value="10">10 —Å–µ–∫—É–Ω–¥</option>
                                <option value="30" selected>30 —Å–µ–∫—É–Ω–¥</option>
                                <option value="60">1 –º–∏–Ω—É—Ç–∞</option>
                                <option value="300">5 –º–∏–Ω—É—Ç</option>
                            </select>
                        </div>
                    </div>

                    <!-- Logging Settings -->
                    <div class="settings__section">
                        <h3 class="settings__section-title">–ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>

                        <div class="settings__row">
                            <label class="settings__label" for="log-level">–£—Ä–æ–≤–µ–Ω—å –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏—è:</label>
                            <select class="settings__select" id="log-level">
                                <option value="ERROR">–¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏</option>
                                <option value="WARN">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è</option>
                                <option value="INFO" selected>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ</option>
                                <option value="DEBUG">–û—Ç–ª–∞–¥–æ—á–Ω—ã–µ</option>
                            </select>
                        </div>

                        <div class="settings__row">
                            <label class="settings__label" for="enable-console-logs">–õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å:</label>
                            <div class="settings__toggle">
                                <input type="checkbox" class="settings__toggle-input" id="enable-console-logs" checked>
                                <span class="settings__toggle-slider"></span>
                            </div>
                        </div>

                        <div class="settings__row">
                            <label class="settings__label" for="max-log-entries">–ú–∞–∫—Å–∏–º—É–º –∑–∞–ø–∏—Å–µ–π –≤ –ø–∞–º—è—Ç–∏:</label>
                            <input type="number" class="settings__input" id="max-log-entries" value="1000" min="100"
                                max="10000">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Preferences Tab -->
        <div class="settings-tab-content" id="user-tab">
            <div class="user-preferences" id="user-preferences-container">
                <div class="user-preferences__header">
                    <i class="fas fa-user"></i>
                    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
                </div>
                <form class="user-preferences__form" id="user-preferences-form">
                    <!-- Profile Information -->
                    <div class="settings__section">
                        <h3 class="settings__section-title">–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>

                        <div class="user-preferences__row">
                            <label class="user-preferences__label" for="user-name">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                            <div class="user-preferences__control">
                                <input type="text" class="settings__input" id="user-name" value="–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä">
                            </div>
                        </div>

                        <div class="user-preferences__row">
                            <label class="user-preferences__label" for="user-email">Email:</label>
                            <div class="user-preferences__control">
                                <input type="email" class="settings__input" id="user-email" value="admin@company.local">
                            </div>
                        </div>

                        <div class="user-preferences__row">
                            <label class="user-preferences__label" for="user-role">–†–æ–ª—å:</label>
                            <div class="user-preferences__control">
                                <select class="user-preferences__select" id="user-role">
                                    <option value="admin" selected>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                                    <option value="operator">–û–ø–µ—Ä–∞—Ç–æ—Ä</option>
                                    <option value="viewer">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Interface Preferences -->
                    <div class="settings__section">
                        <h3 class="settings__section-title">–ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</h3>

                        <div class="user-preferences__row">
                            <label class="user-preferences__label" for="language">–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:</label>
                            <div class="user-preferences__control">
                                <select class="user-preferences__select" id="language">
                                    <option value="ru" selected>–†—É—Å—Å–∫–∏–π</option>
                                    <option value="en">English</option>
                                    <option value="de">Deutsch</option>
                                    <option value="fr">Fran√ßais</option>
                                </select>
                            </div>
                        </div>

                        <div class="user-preferences__row">
                            <label class="user-preferences__label" for="items-per-page">–≠–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É:</label>
                            <div class="user-preferences__control">
                                <select class="user-preferences__select" id="items-per-page">
                                    <option value="10">10</option>
                                    <option value="25" selected>25</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select>
                            </div>
                        </div>

                        <div class="user-preferences__row">
                            <label class="user-preferences__label" for="default-view">–†–µ–∂–∏–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ
                                —É–º–æ–ª—á–∞–Ω–∏—é:</label>
                            <div class="user-preferences__control">
                                <select class="user-preferences__select" id="default-view">
                                    <option value="grid" selected>–°–µ—Ç–∫–∞</option>
                                    <option value="list">–°–ø–∏—Å–æ–∫</option>
                                    <option value="table">–¢–∞–±–ª–∏—Ü–∞</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Notification Settings -->
                    <div class="settings__section">
                        <h3 class="settings__section-title">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>

                        <div class="user-preferences__row">
                            <label class="user-preferences__label" for="enable-notifications">–í–∫–ª—é—á–∏—Ç—å
                                —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:</label>
                            <div class="user-preferences__control">
                                <input type="checkbox" class="user-preferences__checkbox" id="enable-notifications"
                                    checked>
                            </div>
                        </div>

                        <div class="user-preferences__row">
                            <label class="user-preferences__label" for="notification-sound">–ó–≤—É–∫–æ–≤—ã–µ
                                —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:</label>
                            <div class="user-preferences__control">
                                <input type="checkbox" class="user-preferences__checkbox" id="notification-sound">
                            </div>
                        </div>

                        <div class="user-preferences__row">
                            <label class="user-preferences__label" for="notification-position">–ü–æ–∑–∏—Ü–∏—è
                                —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:</label>
                            <div class="user-preferences__control">
                                <select class="user-preferences__select" id="notification-position">
                                    <option value="top-right" selected>–í–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞</option>
                                    <option value="top-left">–í–≤–µ—Ä—Ö—É —Å–ª–µ–≤–∞</option>
                                    <option value="bottom-right">–í–Ω–∏–∑—É —Å–ø—Ä–∞–≤–∞</option>
                                    <option value="bottom-left">–í–Ω–∏–∑—É —Å–ª–µ–≤–∞</option>
                                </select>
                            </div>
                        </div>

                        <div class="user-preferences__row">
                            <label class="user-preferences__label" for="notification-timeout">–í—Ä–µ–º—è –ø–æ–∫–∞–∑–∞
                                (—Å–µ–∫):</label>
                            <div class="user-preferences__control">
                                <div class="user-preferences__slider">
                                    <input type="range" class="user-preferences__slider-input" id="notification-timeout"
                                        min="3" max="10" value="5">
                                    <span class="slider-value" id="notification-timeout-value">5</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Theme Manager Tab -->
        <div class="settings-tab-content" id="themes-tab">
            <div class="theme-manager" id="theme-manager-container">
                <div class="theme-manager__header">
                    <i class="fas fa-palette"></i>
                    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏
                </div>

                <!-- Theme Selection -->
                <div class="settings__section">
                    <h3 class="settings__section-title">–í—ã–±–æ—Ä —Ç–µ–º—ã</h3>

                    <ul class="theme-manager__list">
                        <li class="theme-manager__item">
                            <label class="theme-manager__label">
                                <input type="radio" class="theme-manager__radio" name="theme" value="light"
                                    id="theme-light">
                                <span class="theme-manager__name">–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞</span>
                            </label>
                            <div class="theme-preview theme-preview--light">
                                <div class="preview-header"></div>
                                <div class="preview-content">
                                    <div class="preview-sidebar"></div>
                                    <div class="preview-main"></div>
                                </div>
                            </div>
                        </li>

                        <li class="theme-manager__item">
                            <label class="theme-manager__label">
                                <input type="radio" class="theme-manager__radio" name="theme" value="dark"
                                    id="theme-dark" checked>
                                <span class="theme-manager__name">–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</span>
                            </label>
                            <div class="theme-preview theme-preview--dark">
                                <div class="preview-header"></div>
                                <div class="preview-content">
                                    <div class="preview-sidebar"></div>
                                    <div class="preview-main"></div>
                                </div>
                            </div>
                        </li>

                        <li class="theme-manager__item">
                            <label class="theme-manager__label">
                                <input type="radio" class="theme-manager__radio" name="theme" value="cyberpunk"
                                    id="theme-cyberpunk">
                                <span class="theme-manager__name">–ö–∏–±–µ—Ä–ø–∞–Ω–∫ —Ç–µ–º–∞</span>
                            </label>
                            <div class="theme-preview theme-preview--cyberpunk">
                                <div class="preview-header"></div>
                                <div class="preview-content">
                                    <div class="preview-sidebar"></div>
                                    <div class="preview-main"></div>
                                </div>
                            </div>
                        </li>

                        <li class="theme-manager__item">
                            <label class="theme-manager__label">
                                <input type="radio" class="theme-manager__radio" name="theme" value="auto"
                                    id="theme-auto">
                                <span class="theme-manager__name">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è (—Å–∏—Å—Ç–µ–º–Ω–∞—è)</span>
                            </label>
                            <div class="theme-preview theme-preview--auto">
                                <div class="preview-header"></div>
                                <div class="preview-content">
                                    <div class="preview-sidebar"></div>
                                    <div class="preview-main"></div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Theme Customization -->
                <div class="settings__section">
                    <h3 class="settings__section-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã</h3>

                    <div class="theme-customization">
                        <div class="custom-colors">
                            <div class="color-group">
                                <h4>–û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞</h4>
                                <div class="color-inputs">
                                    <div class="color-input-group">
                                        <label>–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç:</label>
                                        <input type="color" class="color-input" id="primary-color" value="#32b8c6">
                                    </div>
                                    <div class="color-input-group">
                                        <label>–í—Ç–æ—Ä–∏—á–Ω—ã–π —Ü–≤–µ—Ç:</label>
                                        <input type="color" class="color-input" id="secondary-color" value="#5e5e52">
                                    </div>
                                    <div class="color-input-group">
                                        <label>–¶–≤–µ—Ç —É—Å–ø–µ—Ö–∞:</label>
                                        <input type="color" class="color-input" id="success-color" value="#32b8c6">
                                    </div>
                                    <div class="color-input-group">
                                        <label>–¶–≤–µ—Ç –æ—à–∏–±–∫–∏:</label>
                                        <input type="color" class="color-input" id="error-color" value="#c0152f">
                                    </div>
                                </div>
                            </div>

                            <div class="color-group">
                                <h4>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h4>
                                <div class="settings__row">
                                    <label class="settings__label" for="border-radius">–°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤:</label>
                                    <div class="user-preferences__slider">
                                        <input type="range" class="user-preferences__slider-input" id="border-radius"
                                            min="0" max="16" value="8">
                                        <span class="slider-value" id="border-radius-value">8px</span>
                                    </div>
                                </div>

                                <div class="settings__row">
                                    <label class="settings__label" for="font-size">–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞:</label>
                                    <select class="settings__select" id="font-size">
                                        <option value="12">–ú–∞–ª–µ–Ω—å–∫–∏–π (12px)</option>
                                        <option value="14" selected>–û–±—ã—á–Ω—ã–π (14px)</option>
                                        <option value="16">–ë–æ–ª—å—à–æ–π (16px)</option>
                                        <option value="18">–û—á–µ–Ω—å –±–æ–ª—å—à–æ–π (18px)</option>
                                    </select>
                                </div>

                                <div class="settings__row">
                                    <label class="settings__label" for="animation-speed">–°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–π:</label>
                                    <select class="settings__select" id="animation-speed">
                                        <option value="0">–û—Ç–∫–ª—é—á–µ–Ω—ã</option>
                                        <option value="0.1">–û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ</option>
                                        <option value="0.25" selected>–ë—ã—Å—Ç—Ä–æ</option>
                                        <option value="0.5">–û–±—ã—á–Ω–æ</option>
                                        <option value="1">–ú–µ–¥–ª–µ–Ω–Ω–æ</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Security Tab -->
        <div class="settings-tab-content" id="security-tab">
            <div class="security-settings">
                <div class="settings__section">
                    <h3 class="settings__section-title">–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>

                    <div class="settings__row">
                        <label class="settings__label" for="session-timeout">–í—Ä–µ–º—è —Å–µ—Å—Å–∏–∏ (–º–∏–Ω):</label>
                        <input type="number" class="settings__input" id="session-timeout" value="480" min="15"
                            max="1440">
                    </div>

                    <div class="settings__row">
                        <label class="settings__label" for="auto-lock">–ê–≤—Ç–æ–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–∏:</label>
                        <div class="settings__toggle">
                            <input type="checkbox" class="settings__toggle-input" id="auto-lock" checked>
                            <span class="settings__toggle-slider"></span>
                        </div>
                    </div>

                    <div class="settings__row">
                        <label class="settings__label" for="lock-timeout">–í—Ä–µ–º—è –¥–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–º–∏–Ω):</label>
                        <input type="number" class="settings__input" id="lock-timeout" value="30" min="5" max="120">
                    </div>

                    <div class="settings__row">
                        <label class="settings__label" for="require-password">–¢—Ä–µ–±–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö
                            –æ–ø–µ—Ä–∞—Ü–∏–π:</label>
                        <div class="settings__toggle">
                            <input type="checkbox" class="settings__toggle-input" id="require-password" checked>
                            <span class="settings__toggle-slider"></span>
                        </div>
                    </div>
                </div>

                <div class="settings__section">
                    <h3 class="settings__section-title">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö</h3>

                    <div class="settings__row">
                        <label class="settings__label" for="encrypt-local-data">–®–∏—Ñ—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</label>
                        <div class="settings__toggle">
                            <input type="checkbox" class="settings__toggle-input" id="encrypt-local-data" checked>
                            <span class="settings__toggle-slider"></span>
                        </div>
                    </div>

                    <div class="settings__row">
                        <label class="settings__label" for="clear-cache">–û—á–∏—â–∞—Ç—å –∫–µ—à –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ:</label>
                        <div class="settings__toggle">
                            <input type="checkbox" class="settings__toggle-input" id="clear-cache">
                            <span class="settings__toggle-slider"></span>
                        </div>
                    </div>

                    <div class="settings__row">
                        <label class="settings__label" for="audit-logging">–ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                        <div class="settings__toggle">
                            <input type="checkbox" class="settings__toggle-input" id="audit-logging" checked>
                            <span class="settings__toggle-slider"></span>
                        </div>
                    </div>
                </div>

                <div class="settings__section">
                    <h3 class="settings__section-title">–°–µ—Ç–µ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>

                    <div class="settings__row">
                        <label class="settings__label" for="ssl-only">–¢–æ–ª—å–∫–æ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</label>
                        <div class="settings__toggle">
                            <input type="checkbox" class="settings__toggle-input" id="ssl-only" checked>
                            <span class="settings__toggle-slider"></span>
                        </div>
                    </div>

                    <div class="settings__row">
                        <label class="settings__label" for="validate-certificates">–ü—Ä–æ–≤–µ—Ä—è—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:</label>
                        <div class="settings__toggle">
                            <input type="checkbox" class="settings__toggle-input" id="validate-certificates" checked>
                            <span class="settings__toggle-slider"></span>
                        </div>
                    </div>

                    <div class="settings__row">
                        <label class="settings__label" for="allowed-hosts">–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ö–æ—Å—Ç—ã:</label>
                        <textarea class="settings__input" id="allowed-hosts" rows="3">localhost
192.168.1.*
*.company.local</textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- Integrations Tab -->
        <div class="settings-tab-content" id="integrations-tab">
            <div class="integrations-settings">
                <div class="settings__section">
                    <h3 class="settings__section-title">–í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã</h3>

                    <!-- SIEM Integration -->
                    <div class="integration-card">
                        <div class="integration-header">
                            <div class="integration-info">
                                <h4>SIEM —Å–∏—Å—Ç–µ–º–∞</h4>
                                <p>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é</p>
                            </div>
                            <div class="integration-status">
                                <div class="settings__toggle">
                                    <input type="checkbox" class="settings__toggle-input" id="siem-integration">
                                    <span class="settings__toggle-slider"></span>
                                </div>
                            </div>
                        </div>
                        <div class="integration-config">
                            <div class="settings__row">
                                <label class="settings__label" for="siem-url">URL SIEM —Å–∏—Å—Ç–µ–º—ã:</label>
                                <input type="text" class="settings__input" id="siem-url"
                                    placeholder="https://siem.company.local">
                            </div>
                            <div class="settings__row">
                                <label class="settings__label" for="siem-api-key">API –∫–ª—é—á:</label>
                                <input type="password" class="settings__input" id="siem-api-key"
                                    placeholder="–í–≤–µ–¥–∏—Ç–µ API –∫–ª—é—á">
                            </div>
                        </div>
                    </div>

                    <!-- Vulnerability Database -->
                    <div class="integration-card">
                        <div class="integration-header">
                            <div class="integration-info">
                                <h4>–ë–∞–∑–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π CVE</h4>
                                <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—è–∑–≤–∏–º–æ—Å—Ç—è—Ö</p>
                            </div>
                            <div class="integration-status">
                                <div class="settings__toggle">
                                    <input type="checkbox" class="settings__toggle-input" id="cve-integration" checked>
                                    <span class="settings__toggle-slider"></span>
                                </div>
                            </div>
                        </div>
                        <div class="integration-config">
                            <div class="settings__row">
                                <label class="settings__label" for="cve-update-interval">–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:</label>
                                <select class="settings__select" id="cve-update-interval">
                                    <option value="1">–ï–∂–µ–¥–Ω–µ–≤–Ω–æ</option>
                                    <option value="7" selected>–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ</option>
                                    <option value="30">–ï–∂–µ–º–µ—Å—è—á–Ω–æ</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Email Notifications -->
                    <div class="integration-card">
                        <div class="integration-header">
                            <div class="integration-info">
                                <h4>Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h4>
                                <p>–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á–µ—Ç–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ</p>
                            </div>
                            <div class="integration-status">
                                <div class="settings__toggle">
                                    <input type="checkbox" class="settings__toggle-input" id="email-integration">
                                    <span class="settings__toggle-slider"></span>
                                </div>
                            </div>
                        </div>
                        <div class="integration-config">
                            <div class="settings__row">
                                <label class="settings__label" for="smtp-server">SMTP —Å–µ—Ä–≤–µ—Ä:</label>
                                <input type="text" class="settings__input" id="smtp-server"
                                    placeholder="smtp.company.local">
                            </div>
                            <div class="settings__row">
                                <label class="settings__label" for="smtp-port">–ü–æ—Ä—Ç:</label>
                                <input type="number" class="settings__input" id="smtp-port" value="587" min="1"
                                    max="65535">
                            </div>
                            <div class="settings__row">
                                <label class="settings__label" for="smtp-username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
                                <input type="text" class="settings__input" id="smtp-username"
                                    placeholder="notifications@company.local">
                            </div>
                            <div class="settings__row">
                                <label class="settings__label" for="smtp-password">–ü–∞—Ä–æ–ª—å:</label>
                                <input type="password" class="settings__input" id="smtp-password"
                                    placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Advanced Tab -->
        <div class="settings-tab-content" id="advanced-tab">
            <div class="advanced-settings">
                <div class="settings__section">
                    <h3 class="settings__section-title">–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h3>

                    <div class="settings__row">
                        <label class="settings__label" for="enable-beta">–í–∫–ª—é—á–∏—Ç—å –±–µ—Ç–∞-—Ñ—É–Ω–∫—Ü–∏–∏:</label>
                        <div class="settings__toggle">
                            <input type="checkbox" class="settings__toggle-input" id="enable-beta">
                            <span class="settings__toggle-slider"></span>
                        </div>
                    </div>

                    <div class="settings__row">
                        <label class="settings__label" for="developer-mode">–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:</label>
                        <div class="settings__toggle">
                            <input type="checkbox" class="settings__toggle-input" id="developer-mode">
                            <span class="settings__toggle-slider"></span>
                        </div>
                    </div>

                    <div class="settings__row">
                        <label class="settings__label" for="debug-mode">–û—Ç–ª–∞–¥–æ—á–Ω—ã–π —Ä–µ–∂–∏–º:</label>
                        <div class="settings__toggle">
                            <input type="checkbox" class="settings__toggle-input" id="debug-mode">
                            <span class="settings__toggle-slider"></span>
                        </div>
                    </div>
                </div>

                <div class="settings__section">
                    <h3 class="settings__section-title">–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö</h3>

                    <div class="cleanup-actions">
                        <div class="cleanup-item">
                            <div class="cleanup-info">
                                <h4>–ö–µ—à –±—Ä–∞—É–∑–µ—Ä–∞</h4>
                                <p>–û—á–∏—Å—Ç–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –∫–µ—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>
                            </div>
                            <button class="btn btn--secondary btn--sm" onclick="clearBrowserCache()">
                                <i class="fas fa-trash"></i>
                                –û—á–∏—Å—Ç–∏—Ç—å
                            </button>
                        </div>

                        <div class="cleanup-item">
                            <div class="cleanup-info">
                                <h4>–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</h4>
                                <p>–£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –¥–∞–Ω–Ω—ã–µ</p>
                            </div>
                            <button class="btn btn--secondary btn--sm" onclick="clearLocalStorage()">
                                <i class="fas fa-database"></i>
                                –û—á–∏—Å—Ç–∏—Ç—å
                            </button>
                        </div>

                        <div class="cleanup-item">
                            <div class="cleanup-info">
                                <h4>–ñ—É—Ä–Ω–∞–ª—ã —Å–æ–±—ã—Ç–∏–π</h4>
                                <p>–£–¥–∞–ª–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∂—É—Ä–Ω–∞–ª—ã —Å–æ–±—ã—Ç–∏–π –∏ –æ—à–∏–±–æ–∫</p>
                            </div>
                            <button class="btn btn--secondary btn--sm" onclick="clearLogs()">
                                <i class="fas fa-file-alt"></i>
                                –û—á–∏—Å—Ç–∏—Ç—å
                            </button>
                        </div>

                        <div class="cleanup-item danger">
                            <div class="cleanup-info">
                                <h4>–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å</h4>
                                <p>–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫ –∑–∞–≤–æ–¥—Å–∫–∏–º –∑–Ω–∞—á–µ–Ω–∏—è–º</p>
                            </div>
                            <button class="btn btn--outline btn--sm" onclick="confirmFullReset()"
                                style="border-color: var(--color-error); color: var(--color-error);">
                                <i class="fas fa-exclamation-triangle"></i>
                                –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ
                            </button>
                        </div>
                    </div>
                </div>

                <div class="settings__section">
                    <h3 class="settings__section-title">–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</h3>

                    <div class="diagnostic-info">
                        <div class="diagnostic-row">
                            <span class="diagnostic-label">–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</span>
                            <span class="diagnostic-value">IP Roast Enterprise 4.0.0</span>
                        </div>
                        <div class="diagnostic-row">
                            <span class="diagnostic-label">–í–µ—Ä—Å–∏—è API:</span>
                            <span class="diagnostic-value" id="api-version">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                        </div>
                        <div class="diagnostic-row">
                            <span class="diagnostic-label">–ë—Ä–∞—É–∑–µ—Ä:</span>
                            <span class="diagnostic-value" id="browser-info">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                        </div>
                        <div class="diagnostic-row">
                            <span class="diagnostic-label">–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:</span>
                            <span class="diagnostic-value status--success" id="connection-status">–ü–æ–¥–∫–ª—é—á–µ–Ω–æ</span>
                        </div>
                        <div class="diagnostic-row">
                            <span class="diagnostic-label">–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</span>
                            <span class="diagnostic-value" id="last-update">–¢–æ–ª—å–∫–æ —á—Ç–æ</span>
                        </div>
                    </div>

                    <div class="diagnostic-actions">
                        <button class="btn btn--secondary btn--sm" onclick="runDiagnostics()">
                            <i class="fas fa-stethoscope"></i>
                            –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
                        </button>
                        <button class="btn btn--secondary btn--sm" onclick="downloadLogs()">
                            <i class="fas fa-download"></i>
                            –°–∫–∞—á–∞—Ç—å –∂—É—Ä–Ω–∞–ª—ã
                        </button>
                        <button class="btn btn--secondary btn--sm" onclick="checkUpdates()">
                            <i class="fas fa-sync-alt"></i>
                            –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Actions Footer -->
    <div class="settings__actions">
        <button class="settings__btn settings__btn--cancel" id="cancel-changes">
            <i class="fas fa-times"></i>
            –û—Ç–º–µ–Ω–∏—Ç—å
        </button>
        <button class="settings__btn settings__btn--save" id="save-settings">
            <i class="fas fa-save"></i>
            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
        </button>
    </div>
</div>

<!-- Enhanced JavaScript Initialization -->
<script src="../settings/system-config.js" defer></script>
<script src="../settings/theme-manager.js" defer></script>
<script src="../settings/user-preferences.js" defer></script>
<script src="../settings/settings.js" defer></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        console.log('‚öôÔ∏è Initializing Enhanced Settings Module');

        // Initialize main settings controller
        const settingsController = new SettingsController('#settings-container');

        // Setup tab switching
        setupTabNavigation();

        // Setup form handlers
        setupFormHandlers();

        // Setup theme management
        setupThemeManagement();

        // Setup range sliders
        setupRangeSliders();

        // Setup integration toggles
        setupIntegrationToggles();

        // Load current settings
        loadCurrentSettings();

        // Setup keyboard shortcuts
        setupKeyboardShortcuts();

        // Setup real-time updates
        setupRealTimeUpdates();

        // Setup diagnostic info
        loadDiagnosticInfo();
    });

    // Tab navigation setup
    function setupTabNavigation() {
        const tabs = document.querySelectorAll('.settings__tab');
        const tabContents = document.querySelectorAll('.settings-tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', (e) => {
                const targetTab = e.target.closest('.settings__tab').dataset.tab;

                // Update active tab
                tabs.forEach(t => t.classList.remove('settings__tab--active'));
                e.target.closest('.settings__tab').classList.add('settings__tab--active');

                // Show corresponding content
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === `${targetTab}-tab`) {
                        content.classList.add('active');
                    }
                });

                console.log(`üìë Switched to ${targetTab} tab`);
            });
        });
    }

    // Form handlers setup
    function setupFormHandlers() {
        // Save settings
        document.getElementById('save-settings').addEventListener('click', saveAllSettings);

        // Cancel changes
        document.getElementById('cancel-changes').addEventListener('click', cancelChanges);

        // Import/Export settings
        document.getElementById('import-settings').addEventListener('click', importSettings);
        document.getElementById('export-settings').addEventListener('click', exportSettings);
        document.getElementById('reset-settings').addEventListener('click', resetToDefaults);

        // Auto-save on input change (debounced)
        let saveTimeout;
        document.querySelectorAll('input, select, textarea').forEach(input => {
            input.addEventListener('input', () => {
                clearTimeout(saveTimeout);
                saveTimeout = setTimeout(() => {
                    autoSaveSettings();
                }, 1000); // 1 second delay
            });
        });
    }

    // Theme management setup
    function setupThemeManagement() {
        const themeRadios = document.querySelectorAll('input[name="theme"]');

        themeRadios.forEach(radio => {
            radio.addEventListener('change', (e) => {
                if (e.target.checked) {
                    applyTheme(e.target.value);
                }
            });
        });

        // Color inputs
        document.querySelectorAll('.color-input').forEach(input => {
            input.addEventListener('input', (e) => {
                updateCustomColors();
            });
        });

        // Load current theme
        const currentTheme = localStorage.getItem('ipRoast:theme') || 'dark';
        document.getElementById(`theme-${currentTheme}`)?.checked = true;
    }

    // Range sliders setup
    function setupRangeSliders() {
        document.querySelectorAll('.user-preferences__slider-input').forEach(slider => {
            const valueDisplay = document.getElementById(slider.id + '-value');

            slider.addEventListener('input', (e) => {
                let value = e.target.value;
                let suffix = '';

                if (slider.id === 'border-radius') {
                    suffix = 'px';
                } else if (slider.id === 'notification-timeout') {
                    suffix = ' —Å–µ–∫';
                }

                valueDisplay.textContent = value + suffix;
            });

            // Initial update
            slider.dispatchEvent(new Event('input'));
        });
    }

    // Integration toggles setup
    function setupIntegrationToggles() {
        document.querySelectorAll('.integration-card .settings__toggle-input').forEach(toggle => {
            toggle.addEventListener('change', (e) => {
                const card = e.target.closest('.integration-card');
                const config = card.querySelector('.integration-config');

                if (e.target.checked) {
                    config.style.display = 'block';
                } else {
                    config.style.display = 'none';
                }
            });

            // Initial state
            toggle.dispatchEvent(new Event('change'));
        });
    }

    // Load current settings
    function loadCurrentSettings() {
        console.log('üì• Loading current settings');

        // System settings
        const systemSettings = JSON.parse(localStorage.getItem('ipRoast:systemSettings') || '{}');

        Object.keys(systemSettings).forEach(key => {
            const input = document.getElementById(key);
            if (input) {
                if (input.type === 'checkbox') {
                    input.checked = systemSettings[key];
                } else {
                    input.value = systemSettings[key];
                }
            }
        });

        // User preferences
        const userPrefs = JSON.parse(localStorage.getItem('ipRoast:userPreferences') || '{}');

        Object.keys(userPrefs).forEach(key => {
            const input = document.getElementById(key);
            if (input) {
                if (input.type === 'checkbox') {
                    input.checked = userPrefs[key];
                } else {
                    input.value = userPrefs[key];
                }
            }
        });
    }

    // Save all settings
    function saveAllSettings() {
        console.log('üíæ Saving all settings');

        const systemSettings = {};
        const userPreferences = {};
        const securitySettings = {};

        // Collect system settings
        document.querySelectorAll('#system-tab input, #system-tab select').forEach(input => {
            if (input.type === 'checkbox') {
                systemSettings[input.id] = input.checked;
            } else {
                systemSettings[input.id] = input.value;
            }
        });

        // Collect user preferences
        document.querySelectorAll('#user-tab input, #user-tab select').forEach(input => {
            if (input.type === 'checkbox') {
                userPreferences[input.id] = input.checked;
            } else {
                userPreferences[input.id] = input.value;
            }
        });

        // Collect security settings
        document.querySelectorAll('#security-tab input, #security-tab select, #security-tab textarea').forEach(input => {
            if (input.type === 'checkbox') {
                securitySettings[input.id] = input.checked;
            } else {
                securitySettings[input.id] = input.value;
            }
        });

        // Save to localStorage
        localStorage.setItem('ipRoast:systemSettings', JSON.stringify(systemSettings));
        localStorage.setItem('ipRoast:userPreferences', JSON.stringify(userPreferences));
        localStorage.setItem('ipRoast:securitySettings', JSON.stringify(securitySettings));

        showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ', 'success');
    }

    // Auto-save settings
    function autoSaveSettings() {
        console.log('üîÑ Auto-saving settings');
        saveAllSettings();
    }

    // Apply theme
    function applyTheme(themeName) {
        console.log('üé® Applying theme:', themeName);

        document.documentElement.setAttribute('data-theme', themeName);
        localStorage.setItem('ipRoast:theme', themeName);

        showNotification(`–¢–µ–º–∞ "${themeName}" –ø—Ä–∏–º–µ–Ω–µ–Ω–∞`, 'success');
    }

    // Update custom colors
    function updateCustomColors() {
        console.log('üåà Updating custom colors');

        const primaryColor = document.getElementById('primary-color').value;
        const secondaryColor = document.getElementById('secondary-color').value;
        const successColor = document.getElementById('success-color').value;
        const errorColor = document.getElementById('error-color').value;

        document.documentElement.style.setProperty('--color-primary', primaryColor);
        document.documentElement.style.setProperty('--color-secondary', secondaryColor);
        document.documentElement.style.setProperty('--color-success', successColor);
        document.documentElement.style.setProperty('--color-error', errorColor);
    }

    // Load diagnostic information
    function loadDiagnosticInfo() {
        // Browser info
        const browserInfo = navigator.userAgent.split(' ').slice(-2).join(' ');
        document.getElementById('browser-info').textContent = browserInfo;

        // Connection status check
        setInterval(() => {
            const status = navigator.onLine ? '–ü–æ–¥–∫–ª—é—á–µ–Ω–æ' : '–û—Ç–∫–ª—é—á–µ–Ω–æ';
            const statusClass = navigator.onLine ? 'status--success' : 'status--error';

            const statusElement = document.getElementById('connection-status');
            statusElement.textContent = status;
            statusElement.className = `diagnostic-value ${statusClass}`;
        }, 5000);

        // Last update time
        setInterval(() => {
            document.getElementById('last-update').textContent = new Date().toLocaleString();
        }, 30000);

        // API version (simulate API call)
        setTimeout(() => {
            document.getElementById('api-version').textContent = 'v4.0.0-enterprise';
        }, 1000);
    }

    // Keyboard shortcuts
    function setupKeyboardShortcuts() {
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch (e.key) {
                    case 's':
                        e.preventDefault();
                        saveAllSettings();
                        break;
                    case 'z':
                        e.preventDefault();
                        if (e.shiftKey) {
                            // Redo
                            console.log('Redo action');
                        } else {
                            // Undo
                            console.log('Undo action');
                        }
                        break;
                    case ',':
                        e.preventDefault();
                        // Already in settings, focus on first tab
                        document.querySelector('.settings__tab').focus();
                        break;
                }
            }

            // Tab switching with Alt + Number
            if (e.altKey && e.key >= '1' && e.key <= '6') {
                e.preventDefault();
                const tabIndex = parseInt(e.key) - 1;
                const tabs = document.querySelectorAll('.settings__tab');
                if (tabs[tabIndex]) {
                    tabs[tabIndex].click();
                }
            }
        });
    }

    // Real-time updates setup
    function setupRealTimeUpdates() {
        // Monitor system resources (simulated)
        setInterval(() => {
            updateSystemStatus();
        }, 10000); // 10 seconds
    }

    // Utility functions
    function updateSystemStatus() {
        // Simulate system status updates
        const connectionStatus = document.getElementById('connection-status');
        if (connectionStatus) {
            connectionStatus.textContent = navigator.onLine ? '–ü–æ–¥–∫–ª—é—á–µ–Ω–æ' : '–û—Ç–∫–ª—é—á–µ–Ω–æ';
            connectionStatus.className = navigator.onLine ? 'diagnostic-value status--success' : 'diagnostic-value status--error';
        }
    }

    function showNotification(message, type = 'info') {
        console.log(`üì¢ ${type.toUpperCase()}: ${message}`);

        // Create notification element
        const notification = document.createElement('div');
        notification.className = `notification notification-${type}`;
        notification.innerHTML = `
        <div class="notification-icon">
            <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'times' : 'info'}"></i>
        </div>
        <div class="notification-content">
            <div class="notification-message">${message}</div>
            <div class="notification-time">${new Date().toLocaleTimeString()}</div>
        </div>
        <button class="notification-close">
            <i class="fas fa-times"></i>
        </button>
    `;

        // Add to container
        let container = document.querySelector('.notification-container');
        if (!container) {
            container = document.createElement('div');
            container.className = 'notification-container';
            document.body.appendChild(container);
        }

        container.appendChild(notification);

        // Show animation
        setTimeout(() => notification.classList.add('notification-show'), 100);

        // Auto hide
        setTimeout(() => {
            notification.classList.add('notification-hide');
            setTimeout(() => notification.remove(), 300);
        }, 5000);

        // Close button
        notification.querySelector('.notification-close').addEventListener('click', () => {
            notification.classList.add('notification-hide');
            setTimeout(() => notification.remove(), 300);
        });
    }

    // Action functions
    function importSettings() { console.log('üìÇ Import settings'); }
    function exportSettings() { console.log('üì§ Export settings'); }
    function resetToDefaults() { console.log('üîÑ Reset to defaults'); }
    function cancelChanges() { console.log('‚ùå Cancel changes'); }

    // Cleanup functions
    function clearBrowserCache() {
        console.log('üóëÔ∏è Clear browser cache');
        showNotification('–ö–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ –æ—á–∏—â–µ–Ω', 'success');
    }

    function clearLocalStorage() {
        console.log('üóëÔ∏è Clear local storage');
        localStorage.clear();
        showNotification('–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –æ—á–∏—â–µ–Ω–æ', 'success');
    }

    function clearLogs() {
        console.log('üóëÔ∏è Clear logs');
        showNotification('–ñ—É—Ä–Ω–∞–ª—ã –æ—á–∏—â–µ–Ω—ã', 'success');
    }

    function confirmFullReset() {
        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
            localStorage.clear();
            sessionStorage.clear();
            location.reload();
        }
    }

    // Diagnostic functions
    function runDiagnostics() {
        console.log('üîç Running diagnostics');
        showNotification('–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞', 'info');

        setTimeout(() => {
            showNotification('–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ü—Ä–æ–±–ª–µ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.', 'success');
        }, 3000);
    }

    function downloadLogs() {
        console.log('üì• Download logs');
        showNotification('–ñ—É—Ä–Ω–∞–ª—ã –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è', 'info');
    }

    function checkUpdates() {
        console.log('üîÑ Check updates');
        showNotification('–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π...', 'info');

        setTimeout(() => {
            showNotification('–í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é', 'success');
        }, 2000);
    }
</script>

<style>
    /* Enhanced Settings Styles */
    .settings {
        display: flex;
        flex-direction: column;
        height: 100%;
        background: var(--color-background);
    }

    .settings-header-content {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        padding: var(--space-24);
        background: var(--color-surface);
        border-bottom: 1px solid var(--color-card-border);
    }

    .settings-title-section h1 {
        display: flex;
        align-items: center;
        gap: var(--space-12);
        color: var(--color-text);
        margin: 0 0 var(--space-8) 0;
    }

    .settings-title-section h1 i {
        color: var(--color-primary);
    }

    .settings-subtitle {
        color: var(--color-text-secondary);
        margin: 0;
        font-size: var(--font-size-base);
    }

    .settings-header-actions {
        display: flex;
        gap: var(--space-12);
    }

    .settings-action-btn {
        display: flex;
        align-items: center;
        gap: var(--space-6);
        padding: var(--space-8) var(--space-16);
        background: transparent;
        border: 1px solid var(--color-border);
        border-radius: var(--radius-base);
        color: var(--color-text-secondary);
        cursor: pointer;
        transition: all var(--duration-fast) var(--ease-standard);
        font-size: var(--font-size-sm);
        font-weight: var(--font-weight-medium);
    }

    .settings-action-btn:hover {
        background: var(--color-secondary);
        color: var(--color-text);
        border-color: var(--color-primary);
    }

    .settings-tab-content {
        display: none;
        padding: var(--space-24);
        flex: 1;
        overflow-y: auto;
    }

    .settings-tab-content.active {
        display: block;
    }

    /* Theme Previews */
    .theme-preview {
        width: 60px;
        height: 40px;
        border-radius: var(--radius-sm);
        border: 1px solid var(--color-border);
        overflow: hidden;
        margin-left: var(--space-12);
        display: flex;
        flex-direction: column;
    }

    .theme-preview--light {
        background: #fcfcf9;
    }

    .theme-preview--light .preview-header {
        height: 12px;
        background: #fffffd;
        border-bottom: 1px solid rgba(94, 82, 64, 0.12);
    }

    .theme-preview--light .preview-content {
        flex: 1;
        display: flex;
    }

    .theme-preview--light .preview-sidebar {
        width: 20px;
        background: #fffffd;
        border-right: 1px solid rgba(94, 82, 64, 0.12);
    }

    .theme-preview--light .preview-main {
        flex: 1;
        background: #fcfcf9;
    }

    .theme-preview--dark {
        background: var(--color-charcoal-700);
    }

    .theme-preview--dark .preview-header {
        height: 12px;
        background: var(--color-charcoal-800);
        border-bottom: 1px solid rgba(119, 124, 124, 0.2);
    }

    .theme-preview--dark .preview-content {
        flex: 1;
        display: flex;
    }

    .theme-preview--dark .preview-sidebar {
        width: 20px;
        background: var(--color-charcoal-800);
        border-right: 1px solid rgba(119, 124, 124, 0.2);
    }

    .theme-preview--dark .preview-main {
        flex: 1;
        background: var(--color-charcoal-700);
    }

    .theme-preview--cyberpunk {
        background: #0f0f0f;
    }

    .theme-preview--cyberpunk .preview-header {
        height: 12px;
        background: #080808;
        border-bottom: 1px solid #9333ea;
    }

    .theme-preview--cyberpunk .preview-content {
        flex: 1;
        display: flex;
    }

    .theme-preview--cyberpunk .preview-sidebar {
        width: 20px;
        background: #080808;
        border-right: 1px solid #06b6d4;
    }

    .theme-preview--cyberpunk .preview-main {
        flex: 1;
        background: #0f0f0f;
    }

    .theme-preview--auto {
        background: linear-gradient(45deg, #fcfcf9 0%, #fcfcf9 50%, var(--color-charcoal-700) 50%, var(--color-charcoal-700) 100%);
    }

    .theme-preview--auto .preview-header {
        height: 12px;
        background: linear-gradient(45deg, #fffffd 0%, #fffffd 50%, var(--color-charcoal-800) 50%, var(--color-charcoal-800) 100%);
    }

    .theme-preview--auto .preview-content {
        flex: 1;
        display: flex;
    }

    .theme-preview--auto .preview-sidebar {
        width: 20px;
        background: linear-gradient(45deg, #fffffd 0%, #fffffd 50%, var(--color-charcoal-800) 50%, var(--color-charcoal-800) 100%);
    }

    .theme-preview--auto .preview-main {
        flex: 1;
        background: linear-gradient(45deg, #fcfcf9 0%, #fcfcf9 50%, var(--color-charcoal-700) 50%, var(--color-charcoal-700) 100%);
    }

    /* Color Inputs */
    .color-inputs {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: var(--space-16);
    }

    .color-input-group {
        display: flex;
        flex-direction: column;
        gap: var(--space-4);
    }

    .color-input-group label {
        font-size: var(--font-size-sm);
        color: var(--color-text-secondary);
        font-weight: var(--font-weight-medium);
    }

    .color-input {
        width: 100%;
        height: 40px;
        border: 1px solid var(--color-border);
        border-radius: var(--radius-base);
        cursor: pointer;
    }

    /* Integration Cards */
    .integration-card {
        border: 1px solid var(--color-border);
        border-radius: var(--radius-lg);
        margin-bottom: var(--space-16);
        overflow: hidden;
        background: var(--color-surface);
    }

    .integration-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--space-16);
        background: var(--color-secondary);
    }

    .integration-info h4 {
        margin: 0 0 var(--space-4) 0;
        color: var(--color-text);
    }

    .integration-info p {
        margin: 0;
        color: var(--color-text-secondary);
        font-size: var(--font-size-sm);
    }

    .integration-config {
        padding: var(--space-16);
        border-top: 1px solid var(--color-border);
        display: none;
    }

    /* Cleanup Actions */
    .cleanup-actions {
        display: flex;
        flex-direction: column;
        gap: var(--space-16);
    }

    .cleanup-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--space-16);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-base);
        background: var(--color-surface);
    }

    .cleanup-item.danger {
        border-color: var(--color-error);
        background: rgba(var(--color-error-rgb), 0.05);
    }

    .cleanup-info h4 {
        margin: 0 0 var(--space-4) 0;
        color: var(--color-text);
    }

    .cleanup-info p {
        margin: 0;
        color: var(--color-text-secondary);
        font-size: var(--font-size-sm);
    }

    /* Diagnostic Info */
    .diagnostic-info {
        display: flex;
        flex-direction: column;
        gap: var(--space-8);
        margin-bottom: var(--space-24);
    }

    .diagnostic-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: var(--space-8) 0;
        border-bottom: 1px solid var(--color-border);
    }

    .diagnostic-label {
        font-weight: var(--font-weight-medium);
        color: var(--color-text);
    }

    .diagnostic-value {
        color: var(--color-text-secondary);
        font-family: var(--font-family-mono);
        font-size: var(--font-size-sm);
    }

    .diagnostic-actions {
        display: flex;
        gap: var(--space-12);
        flex-wrap: wrap;
    }

    /* Slider styling */
    .user-preferences__slider {
        display: flex;
        align-items: center;
        gap: var(--space-12);
        width: 100%;
    }

    .user-preferences__slider-input {
        flex: 1;
    }

    .slider-value {
        min-width: 60px;
        text-align: right;
        font-family: var(--font-family-mono);
        font-size: var(--font-size-sm);
        color: var(--color-text-secondary);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .settings-header-content {
            flex-direction: column;
            gap: var(--space-16);
            align-items: stretch;
        }

        .settings-header-actions {
            justify-content: space-between;
        }

        .settings__tabs {
            overflow-x: auto;
            flex-wrap: nowrap;
        }

        .settings__tab {
            white-space: nowrap;
        }

        .color-inputs {
            grid-template-columns: 1fr;
        }

        .cleanup-item {
            flex-direction: column;
            gap: var(--space-12);
            align-items: stretch;
        }

        .diagnostic-actions {
            flex-direction: column;
        }
    }

    @media (max-width: 480px) {
        .settings-tab-content {
            padding: var(--space-16);
        }

        .integration-header {
            flex-direction: column;
            gap: var(--space-12);
            align-items: stretch;
        }

        .diagnostic-row {
            flex-direction: column;
            align-items: flex-start;
            gap: var(--space-4);
        }
    }
</style>